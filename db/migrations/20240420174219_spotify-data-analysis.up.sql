CREATE TABLE SPOTIFY_HISTORY(
    user_id uuid NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    timestamp TIMESTAMP NOT NULL,
    PLATFORM VARCHAR NOT NULL,
    MS_PLAYED INTEGER NOT NULL,
    CONN_COUNTRY VARCHAR NOT NULL,
    IP_ADDR VARCHAR,
    USER_AGENT VARCHAR,
    TRACK_NAME VARCHAR NOT NULL,
    ARTIST_NAME VARCHAR NOT NULL,
    ALBUM_NAME VARCHAR NOT NULL,
    SPOTIFY_TRACK_URI VARCHAR NOT NULL,
    REASON_START VARCHAR,
    REASON_END VARCHAR,
    SHUFFLE BOOLEAN NOT NULL,
    SKIPPED BOOLEAN,
    OFFLINE BOOLEAN NOT NULL,
    OFFLINE_TIMESTAMP TIMESTAMP,
    INCOGNITO_MODE BOOLEAN NOT NULL,
    PRIMARY KEY (user_id, timestamp)
);